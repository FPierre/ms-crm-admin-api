<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>User admin</title>
</head>
<body>
  <input id='nameInput' type='text' placeholder='user name'>
  <input id='passwordInput' type='password' placeholder='user password'>
  <button id='loginButton'>Login</button>

  <script>
  const request = new XMLHttpRequest()

  request.open('POST', 'http://localhost:4000', true)
  request.setRequestHeader('Content-Type', 'application/json')

  request.onreadystatechange = function () {
    if (request.readyState !== 4 || request.status !== 200) {
      return
    }

    const response = JSON.parse(request.responseText)

    if (response) {
      console.log('connected')
    }
  }

  function login () {
    const name = document.querySelector('#nameInput').value
    const password = document.querySelector('#passwordInput').value

    request.send(JSON.stringify({ name: name, password: password }))
  }

  document.querySelector('#loginButton').addEventListener('click', login)
  </script>
</body>
</html>
